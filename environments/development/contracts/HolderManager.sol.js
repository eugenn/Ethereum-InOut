// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":false,"inputs":[],"name":"getBalance","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"holders","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":false,"inputs":[],"name":"toHolders","outputs":[],"type":"function"},{"constant":false,"inputs":[],"name":"getHoldersSize","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[],"name":"getHolder0","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":false,"inputs":[],"name":"getHolder1","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":false,"inputs":[{"name":"holder","type":"address"}],"name":"appendHolder","outputs":[],"type":"function"},{"inputs":[{"name":"mainContract","type":"address"}],"type":"constructor"}],
    binary: "60606040819052674563918244f400006002556020806102fe83395060806040525160008054600160a060020a03191682179055506102bc806100426000396000f3606060405236156100615760e060020a600035046312065fe081146100635780632a11ced014610075578063391f0b1a146100bb57806381054e831461017a578063857ca8ee146101855780638dbda838146101cd578063e3468ed114610215575b005b61025a30600160a060020a0316315b90565b61026c60043560018054829081101561000257506000527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf60154600160a060020a031681565b61006160018054600090811015610002579081527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf654604051600160a060020a03919091169190678ac7230489e800009082818181858883f1935050505050600160005060018154811015610002575060009081526040517fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf754600160a060020a03169190683ba1910bf341b000009082818181858883f15050505050565b61025a600154610072565b61026c6000600160005060008154811015610002575090527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf654600160a060020a0316610072565b61026c6000600160005060018154811015610002575090527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf754600160a060020a0316610072565b6100616004356001805480820180835582818380158290116102895781836000526020600020918201910161028991905b808211156102b85760008155600101610246565b60408051918252519081900360200190f35b60408051600160a060020a03929092168252519081900360200190f35b505050600092835250602090912001805473ffffffffffffffffffffffffffffffffffffffff19169091179055565b509056",
    unlinked_binary: "60606040819052674563918244f400006002556020806102fe83395060806040525160008054600160a060020a03191682179055506102bc806100426000396000f3606060405236156100615760e060020a600035046312065fe081146100635780632a11ced014610075578063391f0b1a146100bb57806381054e831461017a578063857ca8ee146101855780638dbda838146101cd578063e3468ed114610215575b005b61025a30600160a060020a0316315b90565b61026c60043560018054829081101561000257506000527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf60154600160a060020a031681565b61006160018054600090811015610002579081527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf654604051600160a060020a03919091169190678ac7230489e800009082818181858883f1935050505050600160005060018154811015610002575060009081526040517fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf754600160a060020a03169190683ba1910bf341b000009082818181858883f15050505050565b61025a600154610072565b61026c6000600160005060008154811015610002575090527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf654600160a060020a0316610072565b61026c6000600160005060018154811015610002575090527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf754600160a060020a0316610072565b6100616004356001805480820180835582818380158290116102895781836000526020600020918201910161028991905b808211156102b85760008155600101610246565b60408051918252519081900360200190f35b60408051600160a060020a03929092168252519081900360200190f35b505050600092835250602090912001805473ffffffffffffffffffffffffffffffffffffffff19169091179055565b509056",
    address: "0x4fa917afc96314e50a080fa3d41f10f1ce08ec0a",
    generated_with: "2.0.9",
    contract_name: "HolderManager"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("HolderManager error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("HolderManager error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("HolderManager error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("HolderManager error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.HolderManager = Contract;
  }

})();
